function error(){alert("Oops, something is wrong!"),location.reload()}$("#profile .profile_stats .chapter_block form").on("submit",function(e){e.preventDefault();let r=$(this).children("input").val(),t=$(this).children(".author").val();$.ajax({url:"/handler/set-description",method:"get",dataType:"html",data:{description:r,author_id:t},success:function(){$("#profile .profile_stats .chapter_block .user-description").text(r),$("#profile .profile_stats .chapter_block form").css("display","none"),$(".edit_description_btn").removeClass("view")},error:error})}),$("#edit-form").submit(function(e){e.preventDefault();let r=$(this).parent(".single_form").parent(".form_block").parent(".comment_form_block").siblings(".answer_content").children("span").html(),t=$(this).parent(".single_form").parent(".form_block").parent(".comment_form_block").siblings(".object").val(),n=$(this).children("textarea").val(),o=$(this);isNaN(comm_id)&&error(),$.ajax({url:"/handler/comment-edit",method:"get",dataType:"html",data:{comment_id:t,content:n,old_content:r},success:function(){o.parent(".single_form").parent(".form_block").parent(".comment_form_block").css("display","none"),o.parent(".single_form").parent(".form_block").parent(".comment_form_block").siblings(".answer_content").children("span").text(n),o.parent(".single_form").parent(".form_block").parent(".comment_form_block").siblings(".answer_content").children("span").css("display","block"),o.parent(".single_form").parent(".form_block").parent(".comment_form_block").siblings(".edit-btn").removeClass("editing")},error:error})}),$(".forgot_form_block form").on("submit",function(e){e.preventDefault();let r=$(this).children(".field").children(".username").val(),t=$(this).children(".field").children(".email").val();$.ajax({url:"/handler/forgot-password",method:"get",dataType:"html",data:{username:r,email:t},success:function(){window.location.href="/"},error:error})}),$(".change_form_block form").on("beforeSubmit",function(){let e=$(this).children(".field").children(".old_pass").children("input").val(),r=$(this).children(".field").children(".new_pass").children("input").val();$.ajax({url:"/handler/change-password",method:"get",dataType:"html",data:{old_pass:e,new_pass:r},success:function(){window.location.href="/"},error:function(){alert("Password mismatch"),error()}})}),$(".change_form_block form").on("submit",function(e){e.preventDefault()});